import"/node_modules/core-js/modules/es.array.iterator.js";import"/node_modules/core-js/modules/es.promise.js";import"/node_modules/core-js/modules/web.dom-collections.iterator.js";import React,{useState,useEffect}from"c:\\node_modules\\react\\index.js";import AppBar from"c:\\node_modules\\@material-ui\\core\\esm\\AppBar\\index.js";import Toolbar from"c:\\node_modules\\@material-ui\\core\\esm\\Toolbar\\index.js";import Typography from"c:\\node_modules\\@material-ui\\core\\esm\\Typography\\index.js";import{ThemeProvider}from"c:\\node_modules\\@material-ui\\core\\esm\\styles\\index.js";import{theme}from"/components/NavBar/styles.js";import{useHistory,useLocation}from"c:\\node_modules\\react-router-dom\\esm\\react-router-dom.js";import{GoogleLogin}from"c:\\node_modules\\react-google-login\\dist\\google-login.js";import{useDispatch}from"c:\\node_modules\\react-redux\\es\\index.js";import{postToken}from"/actions/post.js";import{Link}from"c:\\node_modules\\react-router-dom\\esm\\react-router-dom.js";import useStyles from"/components/NavBar/styles.js";const logoImage="logo.png",NavBar=()=>{const classes=useStyles(),history=useHistory(),dispatch=useDispatch(),location=useLocation(),[user,setUser]=useState(JSON.parse(localStorage.getItem("profile")));return useEffect(()=>{console.log(user);const token=null==user?void 0:user.token;console.log(token),console.log(async()=>{await dispatch(postToken())}),setUser(JSON.parse(localStorage.getItem("profile")))},[location]),React.createElement("div",null,React.createElement("div",{className:classes.root},React.createElement(ThemeProvider,{theme:theme},React.createElement(AppBar,{position:"static"},React.createElement(Toolbar,null,React.createElement("img",{src:logoImage,alt:"",onClick:()=>{history.push("/blogs")},style:{cursor:"pointer",width:"200px"}}),React.createElement(Typography,{variant:"h6",className:classes.title,onClick:()=>{history.push("/blogs")},style:{cursor:"pointer"}}),React.createElement("h3",{style:{marginRight:"1em"}},"Hi!\xA0",null==user?void 0:user.result.name),user&&React.createElement("div",{className:classes.buttonContainer},React.createElement("h3",{className:classes.loginLink,onClick:()=>{dispatch({type:"LOGOUT"}),history.push("/blogs"),setUser(null)}},"Logout")),!user&&React.createElement(GoogleLogin,{clientId:"771470238529-sj11s31cdmlk419k7q8n9drc4q1thrfr.apps.googleusercontent.com",render:renderProps=>React.createElement("div",{className:classes.buttonContainer,onClick:renderProps.onClick},React.createElement("h3",{className:classes.loginLink},"Login / SignUp")),onSuccess:async res=>{const result=null==res?void 0:res.profileObj,token=res.tokenId;try{dispatch({type:"AUTH",data:{result,token}}),history.push("/blogs")}catch(error){console.log(error)}console.log(res)},onFailure:()=>{console.log("google sign in failed")},cookiePolicy:"single_host_origin"}))))))};export default NavBar;