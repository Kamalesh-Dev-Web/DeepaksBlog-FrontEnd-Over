import{useReducer,useRef,useMemo,useContext,useDebugValue}from"c:\\node_modules\\react\\index.js";import{useReduxContext as useDefaultReduxContext}from"/node_modules/react-redux/es/hooks/useReduxContext.js";import Subscription from"/node_modules/react-redux/es/utils/Subscription.js";import{useIsomorphicLayoutEffect}from"/node_modules/react-redux/es/utils/useIsomorphicLayoutEffect.js";import{ReactReduxContext}from"/node_modules/react-redux/es/components/Context.js";var refEquality=function refEquality(a,b){return a===b};function useSelectorWithStoreAndSubscription(selector,equalityFn,store,contextSub){var selectedState,_useReducer=useReducer(function(s){return s+1},0),forceRender=_useReducer[1],subscription=useMemo(function(){return new Subscription(store,contextSub)},[store,contextSub]),latestSubscriptionCallbackError=useRef(),latestSelector=useRef(),latestStoreState=useRef(),latestSelectedState=useRef(),storeState=store.getState();try{if(selector!==latestSelector.current||storeState!==latestStoreState.current||latestSubscriptionCallbackError.current){var newSelectedState=selector(storeState);selectedState=void 0!==latestSelectedState.current&&equalityFn(newSelectedState,latestSelectedState.current)?latestSelectedState.current:newSelectedState}else selectedState=latestSelectedState.current}catch(err){throw latestSubscriptionCallbackError.current&&(err.message+="\nThe error may be correlated with this previous error:\n"+latestSubscriptionCallbackError.current.stack+"\n\n"),err}return useIsomorphicLayoutEffect(function(){latestSelector.current=selector,latestStoreState.current=storeState,latestSelectedState.current=selectedState,latestSubscriptionCallbackError.current=void 0}),useIsomorphicLayoutEffect(function(){function checkForUpdates(){try{var newStoreState=store.getState(),_newSelectedState=latestSelector.current(newStoreState);if(equalityFn(_newSelectedState,latestSelectedState.current))return;latestSelectedState.current=_newSelectedState,latestStoreState.current=newStoreState}catch(err){latestSubscriptionCallbackError.current=err}forceRender()}return subscription.onStateChange=checkForUpdates,subscription.trySubscribe(),checkForUpdates(),function(){return subscription.tryUnsubscribe()}},[store,subscription]),selectedState}export function createSelectorHook(context){void 0===context&&(context=ReactReduxContext);var useReduxContext=context===ReactReduxContext?useDefaultReduxContext:function(){return useContext(context)};return function useSelector(selector,equalityFn){void 0===equalityFn&&(equalityFn=refEquality);var _useReduxContext=useReduxContext(),store=_useReduxContext.store,contextSub=_useReduxContext.subscription,selectedState=useSelectorWithStoreAndSubscription(selector,equalityFn,store,contextSub);return useDebugValue(selectedState),selectedState}}export var useSelector=createSelectorHook();