import"/node_modules/core-js/modules/es.array.iterator.js";import"/node_modules/core-js/modules/web.dom-collections.iterator.js";import _extends from"/node_modules/@babel/runtime/helpers/esm/extends.js";import _objectWithoutPropertiesLoose from"/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";const _excluded=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];import React from"c:\\node_modules\\react\\index.js";import PropTypes from"c:\\node_modules\\prop-types\\index.js";import clsx from"c:\\node_modules\\clsx\\dist\\clsx.m.js";import{elementAcceptingRef,HTMLElementType,unstable_ownerDocument as ownerDocument,unstable_useForkRef as useForkRef,unstable_createChainedFunction as createChainedFunction,unstable_useEventCallback as useEventCallback}from"c:\\node_modules\\@mui\\utils\\esm\\index.js";import composeClasses from"c:\\node_modules\\@mui\\core\\composeClasses\\index.js";import isHostComponent from"/node_modules/@mui/core/utils/isHostComponent.js";import Portal from"c:\\node_modules\\@mui\\core\\Portal\\index.js";import ModalManager,{ariaHidden}from"/node_modules/@mui/core/ModalUnstyled/ModalManager.js";import TrapFocus from"c:\\node_modules\\@mui\\core\\Unstable_TrapFocus\\index.js";import{getModalUtilityClass}from"/node_modules/@mui/core/ModalUnstyled/modalUnstyledClasses.js";import{jsx as _jsx}from"/node_modules/react/jsx-runtime.js";import{jsxs as _jsxs}from"/node_modules/react/jsx-runtime.js";const useUtilityClasses=ownerState=>{const{open,exited,classes}=ownerState;return composeClasses({root:["root",!open&&exited&&"hidden"]},getModalUtilityClass,classes)};function getContainer(container){return"function"==typeof container?container():container}function getHasTransition(props){return!!props.children&&props.children.props.hasOwnProperty("in")}const defaultManager=new ModalManager,ModalUnstyled=React.forwardRef(function ModalUnstyled(props,ref){const{BackdropComponent,BackdropProps,children,classes:classesProp,className,closeAfterTransition=!1,component="div",components={},componentsProps={},container,disableAutoFocus=!1,disableEnforceFocus=!1,disableEscapeKeyDown=!1,disablePortal=!1,disableRestoreFocus=!1,disableScrollLock=!1,hideBackdrop=!1,keepMounted=!1,manager=defaultManager,onBackdropClick,onClose,onKeyDown,open,theme,onTransitionEnter,onTransitionExited}=props,other=_objectWithoutPropertiesLoose(props,_excluded),[exited,setExited]=React.useState(!0),modal=React.useRef({}),mountNodeRef=React.useRef(null),modalRef=React.useRef(null),handleRef=useForkRef(modalRef,ref),hasTransition=getHasTransition(props),getDoc=()=>ownerDocument(mountNodeRef.current),getModal=()=>(modal.current.modalRef=modalRef.current,modal.current.mountNode=mountNodeRef.current,modal.current),handleMounted=()=>{manager.mount(getModal(),{disableScrollLock}),modalRef.current.scrollTop=0},handleOpen=useEventCallback(()=>{const resolvedContainer=getContainer(container)||getDoc().body;manager.add(getModal(),resolvedContainer),modalRef.current&&handleMounted()}),isTopModal=React.useCallback(()=>manager.isTopModal(getModal()),[manager]),handlePortalRef=useEventCallback(node=>{mountNodeRef.current=node;node&&(open&&isTopModal()?handleMounted():ariaHidden(modalRef.current,!0))}),handleClose=React.useCallback(()=>{manager.remove(getModal())},[manager]);React.useEffect(()=>()=>{handleClose()},[handleClose]),React.useEffect(()=>{open?handleOpen():(!hasTransition||!closeAfterTransition)&&handleClose()},[open,handleClose,hasTransition,closeAfterTransition,handleOpen]);const ownerState=_extends({},props,{classes:classesProp,closeAfterTransition,disableAutoFocus,disableEnforceFocus,disableEscapeKeyDown,disablePortal,disableRestoreFocus,disableScrollLock,exited,hideBackdrop,keepMounted}),classes=useUtilityClasses(ownerState);if(!keepMounted&&!open&&(!hasTransition||exited))return null;const handleEnter=()=>{setExited(!1),onTransitionEnter&&onTransitionEnter()},handleExited=()=>{setExited(!0),onTransitionExited&&onTransitionExited(),closeAfterTransition&&handleClose()},childProps={};children.props.tabIndex===void 0&&(childProps.tabIndex="-1"),hasTransition&&(childProps.onEnter=createChainedFunction(handleEnter,children.props.onEnter),childProps.onExited=createChainedFunction(handleExited,children.props.onExited));const Root=components.Root||component,rootProps=componentsProps.root||{};return _jsx(Portal,{ref:handlePortalRef,container:container,disablePortal:disablePortal,children:_jsxs(Root,_extends({role:"presentation"},rootProps,!isHostComponent(Root)&&{as:component,ownerState:_extends({},ownerState,rootProps.ownerState),theme},other,{ref:handleRef,onKeyDown:event=>{onKeyDown&&onKeyDown(event);"Escape"===event.key&&isTopModal()&&(disableEscapeKeyDown||(event.stopPropagation(),onClose&&onClose(event,"escapeKeyDown")))},className:clsx(classes.root,rootProps.className,className),children:[!hideBackdrop&&BackdropComponent?_jsx(BackdropComponent,_extends({open:open,onClick:event=>{event.target!==event.currentTarget||(onBackdropClick&&onBackdropClick(event),onClose&&onClose(event,"backdropClick"))}},BackdropProps)):null,_jsx(TrapFocus,{disableEnforceFocus:disableEnforceFocus,disableAutoFocus:disableAutoFocus,disableRestoreFocus:disableRestoreFocus,isEnabled:isTopModal,open:open,children:React.cloneElement(children,childProps)})]}))})});void 0;export default ModalUnstyled;