import"/node_modules/core-js/modules/es.array.iterator.js";import"/node_modules/core-js/modules/web.dom-collections.iterator.js";import _extends from"/node_modules/@babel/runtime/helpers/esm/extends.js";import React from"c:\\node_modules\\react\\index.js";import{unstable_setRef as setRef,unstable_useEventCallback as useEventCallback,unstable_useForkRef as useForkRef,unstable_useIsFocusVisible as useIsFocusVisible}from"c:\\node_modules\\@mui\\utils\\esm\\index.js";import extractEventHandlers from"/node_modules/@mui/core/utils/extractEventHandlers.js";export default function useButton(props){var _ref;const{component,components={},disabled=!1,href,ref,tabIndex=0,to,type}=props,buttonRef=React.useRef(),[active,setActive]=React.useState(!1),{isFocusVisibleRef,onFocus:handleFocusVisible,onBlur:handleBlurVisible,ref:focusVisibleRef}=useIsFocusVisible(),[focusVisible,setFocusVisible]=React.useState(!1);disabled&&focusVisible&&setFocusVisible(!1),React.useEffect(()=>{isFocusVisibleRef.current=focusVisible},[focusVisible,isFocusVisibleRef]);const handleMouseLeave=otherHandlers=>event=>{var _otherHandlers$onMous;focusVisible&&event.preventDefault(),null==(_otherHandlers$onMous=otherHandlers.onMouseLeave)?void 0:_otherHandlers$onMous.call(otherHandlers,event)},handleBlur=otherHandlers=>event=>{var _otherHandlers$onBlur;handleBlurVisible(event),!1===isFocusVisibleRef.current&&setFocusVisible(!1),null==(_otherHandlers$onBlur=otherHandlers.onBlur)?void 0:_otherHandlers$onBlur.call(otherHandlers,event)},handleFocus=useEventCallback(otherHandlers=>event=>{var _otherHandlers$onFocu2;if(buttonRef.current||(buttonRef.current=event.currentTarget),handleFocusVisible(event),!0===isFocusVisibleRef.current){var _otherHandlers$onFocu;setFocusVisible(!0),null==(_otherHandlers$onFocu=otherHandlers.onFocusVisible)?void 0:_otherHandlers$onFocu.call(otherHandlers,event)}null==(_otherHandlers$onFocu2=otherHandlers.onFocus)?void 0:_otherHandlers$onFocu2.call(otherHandlers,event)}),elementType=null==(_ref=null==component?components.Root:component)?"button":_ref,isNonNativeButton=()=>{const button=buttonRef.current;return"button"!==elementType&&!("A"===(null==button?void 0:button.tagName)&&null!=button&&button.href)},handleMouseDown=otherHandlers=>event=>{var _otherHandlers$onMous2;event.target!==event.currentTarget||disabled||setActive(!0),null==(_otherHandlers$onMous2=otherHandlers.onMouseDown)?void 0:_otherHandlers$onMous2.call(otherHandlers,event)},handleMouseUp=otherHandlers=>event=>{var _otherHandlers$onMous3;event.target===event.currentTarget&&setActive(!1),null==(_otherHandlers$onMous3=otherHandlers.onMouseUp)?void 0:_otherHandlers$onMous3.call(otherHandlers,event)},handleKeyDown=useEventCallback(otherHandlers=>event=>{var _otherHandlers$onKeyD;if(event.target===event.currentTarget&&isNonNativeButton()&&" "===event.key&&event.preventDefault(),event.target!==event.currentTarget||" "!==event.key||disabled||setActive(!0),null==(_otherHandlers$onKeyD=otherHandlers.onKeyDown)?void 0:_otherHandlers$onKeyD.call(otherHandlers,event),event.target===event.currentTarget&&isNonNativeButton()&&"Enter"===event.key&&!disabled){var _otherHandlers$onClic;event.preventDefault(),null==(_otherHandlers$onClic=otherHandlers.onClick)?void 0:_otherHandlers$onClic.call(otherHandlers,event)}}),handleKeyUp=useEventCallback(otherHandlers=>event=>{var _otherHandlers$onKeyU;if(event.target===event.currentTarget&&setActive(!1),null==(_otherHandlers$onKeyU=otherHandlers.onKeyUp)?void 0:_otherHandlers$onKeyU.call(otherHandlers,event),event.target===event.currentTarget&&isNonNativeButton()&&" "===event.key&&!event.defaultPrevented){var _otherHandlers$onClic2;null==(_otherHandlers$onClic2=otherHandlers.onClick)?void 0:_otherHandlers$onClic2.call(otherHandlers,event)}}),handleOwnRef=useForkRef(focusVisibleRef,buttonRef),handleRef=useForkRef(ref,handleOwnRef),[hostElementName,setHostElementName]=React.useState(""),updateRef=instance=>{var _instance$tagName;setHostElementName(null==(_instance$tagName=null==instance?void 0:instance.tagName)?"":_instance$tagName),setRef(handleRef,instance)},buttonProps={};return"BUTTON"===hostElementName?(buttonProps.type=null==type?"button":type,buttonProps.disabled=disabled):""!==hostElementName&&(!href&&!to&&(buttonProps.role="button"),disabled&&(buttonProps["aria-disabled"]=disabled)),{getRootProps:otherHandlers=>{const propsEventHandlers=extractEventHandlers(props),externalEventHandlers=_extends({},propsEventHandlers,otherHandlers),ownEventHandlers={onBlur:handleBlur(externalEventHandlers),onFocus:handleFocus(externalEventHandlers),onKeyDown:handleKeyDown(externalEventHandlers),onKeyUp:handleKeyUp(externalEventHandlers),onMouseDown:handleMouseDown(externalEventHandlers),onMouseLeave:handleMouseLeave(externalEventHandlers),onMouseUp:handleMouseUp(externalEventHandlers)},mergedEventHandlers=_extends({},externalEventHandlers,ownEventHandlers);return delete mergedEventHandlers.onFocusVisible,_extends({tabIndex:disabled?-1:tabIndex,type,ref:updateRef},buttonProps,mergedEventHandlers)},focusVisible,setFocusVisible,disabled,active}}