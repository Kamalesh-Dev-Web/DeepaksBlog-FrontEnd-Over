import _extends from"/node_modules/@babel/runtime/helpers/esm/extends.js";import _objectWithoutProperties from"/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js";import React from"c:\\node_modules\\react\\index.js";import PropTypes from"c:\\node_modules\\prop-types\\index.js";import ReactDOM from"c:\\node_modules\\react-dom\\index.js";import{chainPropTypes,elementTypeAcceptingRef,refType,HTMLElementType}from"c:\\node_modules\\@material-ui\\utils\\esm\\index.js";import debounce from"/node_modules/@material-ui/core/esm/utils/debounce.js";import clsx from"c:\\node_modules\\clsx\\dist\\clsx.m.js";import ownerDocument from"/node_modules/@material-ui/core/esm/utils/ownerDocument.js";import ownerWindow from"/node_modules/@material-ui/core/esm/utils/ownerWindow.js";import createChainedFunction from"/node_modules/@material-ui/core/esm/utils/createChainedFunction.js";import deprecatedPropType from"/node_modules/@material-ui/core/esm/utils/deprecatedPropType.js";import withStyles from"/node_modules/@material-ui/core/esm/styles/withStyles.js";import Modal from"c:\\node_modules\\@material-ui\\core\\esm\\Modal\\index.js";import Grow from"c:\\node_modules\\@material-ui\\core\\esm\\Grow\\index.js";import Paper from"c:\\node_modules\\@material-ui\\core\\esm\\Paper\\index.js";export function getOffsetTop(rect,vertical){var offset=0;return"number"==typeof vertical?offset=vertical:"center"===vertical?offset=rect.height/2:"bottom"==vertical&&(offset=rect.height),offset}export function getOffsetLeft(rect,horizontal){var offset=0;return"number"==typeof horizontal?offset=horizontal:"center"===horizontal?offset=rect.width/2:"right"==horizontal&&(offset=rect.width),offset}function getTransformOriginValue(transformOrigin){return[transformOrigin.horizontal,transformOrigin.vertical].map(function(n){return"number"==typeof n?"".concat(n,"px"):n}).join(" ")}function getScrollParent(parent,child){for(var element=child,scrollTop=0;element&&element!==parent;)element=element.parentElement,scrollTop+=element.scrollTop;return scrollTop}function getAnchorEl(anchorEl){return"function"==typeof anchorEl?anchorEl():anchorEl}export var styles={root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}};var Popover=React.forwardRef(function Popover(props,ref){var action=props.action,anchorEl=props.anchorEl,_props$anchorOrigin=props.anchorOrigin,anchorOrigin=void 0===_props$anchorOrigin?{vertical:"top",horizontal:"left"}:_props$anchorOrigin,anchorPosition=props.anchorPosition,_props$anchorReferenc=props.anchorReference,anchorReference=void 0===_props$anchorReferenc?"anchorEl":_props$anchorReferenc,children=props.children,classes=props.classes,className=props.className,containerProp=props.container,_props$elevation=props.elevation,elevation=void 0===_props$elevation?8:_props$elevation,getContentAnchorEl=props.getContentAnchorEl,_props$marginThreshol=props.marginThreshold,marginThreshold=void 0===_props$marginThreshol?16:_props$marginThreshol,onEnter=props.onEnter,onEntered=props.onEntered,onEntering=props.onEntering,onExit=props.onExit,onExited=props.onExited,onExiting=props.onExiting,open=props.open,_props$PaperProps=props.PaperProps,PaperProps=void 0===_props$PaperProps?{}:_props$PaperProps,_props$transformOrigi=props.transformOrigin,transformOrigin=void 0===_props$transformOrigi?{vertical:"top",horizontal:"left"}:_props$transformOrigi,_props$TransitionComp=props.TransitionComponent,TransitionComponent=void 0===_props$TransitionComp?Grow:_props$TransitionComp,_props$transitionDura=props.transitionDuration,transitionDurationProp=void 0===_props$transitionDura?"auto":_props$transitionDura,_props$TransitionProp=props.TransitionProps,TransitionProps=void 0===_props$TransitionProp?{}:_props$TransitionProp,other=_objectWithoutProperties(props,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),paperRef=React.useRef(),getAnchorOffset=React.useCallback(function(contentAnchorOffset){if("anchorPosition"===anchorReference)return anchorPosition;var resolvedAnchorEl=getAnchorEl(anchorEl),anchorElement=resolvedAnchorEl&&1===resolvedAnchorEl.nodeType?resolvedAnchorEl:ownerDocument(paperRef.current).body,anchorRect=anchorElement.getBoundingClientRect(),anchorVertical=0===contentAnchorOffset?anchorOrigin.vertical:"center";return{top:anchorRect.top+getOffsetTop(anchorRect,anchorVertical),left:anchorRect.left+getOffsetLeft(anchorRect,anchorOrigin.horizontal)}},[anchorEl,anchorOrigin.horizontal,anchorOrigin.vertical,anchorPosition,anchorReference]),getContentAnchorOffset=React.useCallback(function(element){var contentAnchorOffset=0;if(getContentAnchorEl&&"anchorEl"===anchorReference){var contentAnchorEl=getContentAnchorEl(element);if(contentAnchorEl&&element.contains(contentAnchorEl)){var scrollTop=getScrollParent(element,contentAnchorEl);contentAnchorOffset=contentAnchorEl.offsetTop+contentAnchorEl.clientHeight/2-scrollTop||0}}return contentAnchorOffset},[anchorOrigin.vertical,anchorReference,getContentAnchorEl]),getTransformOrigin=React.useCallback(function(elemRect){var contentAnchorOffset=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;return{vertical:getOffsetTop(elemRect,transformOrigin.vertical)+contentAnchorOffset,horizontal:getOffsetLeft(elemRect,transformOrigin.horizontal)}},[transformOrigin.horizontal,transformOrigin.vertical]),getPositioningStyle=React.useCallback(function(element){var contentAnchorOffset=getContentAnchorOffset(element),elemRect={width:element.offsetWidth,height:element.offsetHeight},elemTransformOrigin=getTransformOrigin(elemRect,contentAnchorOffset);if("none"===anchorReference)return{top:null,left:null,transformOrigin:getTransformOriginValue(elemTransformOrigin)};var anchorOffset=getAnchorOffset(contentAnchorOffset),top=anchorOffset.top-elemTransformOrigin.vertical,left=anchorOffset.left-elemTransformOrigin.horizontal,bottom=top+elemRect.height,right=left+elemRect.width,containerWindow=ownerWindow(getAnchorEl(anchorEl)),heightThreshold=containerWindow.innerHeight-marginThreshold,widthThreshold=containerWindow.innerWidth-marginThreshold;if(top<marginThreshold){var diff=top-marginThreshold;top-=diff,elemTransformOrigin.vertical+=diff}else if(bottom>heightThreshold){var _diff=bottom-heightThreshold;top-=_diff,elemTransformOrigin.vertical+=_diff}if(left<marginThreshold){var _diff2=left-marginThreshold;left-=_diff2,elemTransformOrigin.horizontal+=_diff2}else if(right>widthThreshold){var _diff3=right-widthThreshold;left-=_diff3,elemTransformOrigin.horizontal+=_diff3}return{top:"".concat(Math.round(top),"px"),left:"".concat(Math.round(left),"px"),transformOrigin:getTransformOriginValue(elemTransformOrigin)}},[anchorEl,anchorReference,getAnchorOffset,getContentAnchorOffset,getTransformOrigin,marginThreshold]),setPositioningStyles=React.useCallback(function(){var element=paperRef.current;if(element){var positioning=getPositioningStyle(element);null!==positioning.top&&(element.style.top=positioning.top),null!==positioning.left&&(element.style.left=positioning.left),element.style.transformOrigin=positioning.transformOrigin}},[getPositioningStyle]),handlePaperRef=React.useCallback(function(instance){paperRef.current=ReactDOM.findDOMNode(instance)},[]);React.useEffect(function(){open&&setPositioningStyles()}),React.useImperativeHandle(action,function(){return open?{updatePosition:function updatePosition(){setPositioningStyles()}}:null},[open,setPositioningStyles]),React.useEffect(function(){if(open){var handleResize=debounce(function(){setPositioningStyles()});return window.addEventListener("resize",handleResize),function(){handleResize.clear(),window.removeEventListener("resize",handleResize)}}},[open,setPositioningStyles]);var transitionDuration=transitionDurationProp;"auto"!==transitionDurationProp||TransitionComponent.muiSupportAuto||(transitionDuration=void 0);var container=containerProp||(anchorEl?ownerDocument(getAnchorEl(anchorEl)).body:void 0);return React.createElement(Modal,_extends({container:container,open:open,ref:ref,BackdropProps:{invisible:!0},className:clsx(classes.root,className)},other),React.createElement(TransitionComponent,_extends({appear:!0,in:open,onEnter:onEnter,onEntered:onEntered,onExit:onExit,onExited:onExited,onExiting:onExiting,timeout:transitionDuration},TransitionProps,{onEntering:createChainedFunction(function handleEntering(element,isAppearing){onEntering&&onEntering(element,isAppearing),setPositioningStyles()},TransitionProps.onEntering)}),React.createElement(Paper,_extends({elevation:elevation,ref:handlePaperRef},PaperProps,{className:clsx(classes.paper,PaperProps.className)}),children)))});void 0;export default withStyles(styles,{name:"MuiPopover"})(Popover);