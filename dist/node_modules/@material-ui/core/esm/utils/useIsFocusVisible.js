import React from"c:\\node_modules\\react\\index.js";import ReactDOM from"c:\\node_modules\\react-dom\\index.js";var hadKeyboardEvent=!0,hadFocusVisibleRecently=!1,hadFocusVisibleRecentlyTimeout=null,inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(node){var type=node.type,tagName=node.tagName;return!("INPUT"!==tagName||!inputTypesWhitelist[type]||node.readOnly)||!("TEXTAREA"!==tagName||node.readOnly)||!!node.isContentEditable}function handleKeyDown(event){event.metaKey||event.altKey||event.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){"hidden"===this.visibilityState&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(doc){doc.addEventListener("keydown",handleKeyDown,!0),doc.addEventListener("mousedown",handlePointerDown,!0),doc.addEventListener("pointerdown",handlePointerDown,!0),doc.addEventListener("touchstart",handlePointerDown,!0),doc.addEventListener("visibilitychange",handleVisibilityChange,!0)}export function teardown(doc){doc.removeEventListener("keydown",handleKeyDown,!0),doc.removeEventListener("mousedown",handlePointerDown,!0),doc.removeEventListener("pointerdown",handlePointerDown,!0),doc.removeEventListener("touchstart",handlePointerDown,!0),doc.removeEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(event){var target=event.target;try{return target.matches(":focus-visible")}catch(error){}return hadKeyboardEvent||focusTriggersKeyboardModality(target)}function handleBlurVisible(){hadFocusVisibleRecently=!0,window.clearTimeout(hadFocusVisibleRecentlyTimeout),hadFocusVisibleRecentlyTimeout=window.setTimeout(function(){hadFocusVisibleRecently=!1},100)}export default function useIsFocusVisible(){var ref=React.useCallback(function(instance){var node=ReactDOM.findDOMNode(instance);null!=node&&prepare(node.ownerDocument)},[]);return{isFocusVisible:isFocusVisible,onBlurVisible:handleBlurVisible,ref:ref}}