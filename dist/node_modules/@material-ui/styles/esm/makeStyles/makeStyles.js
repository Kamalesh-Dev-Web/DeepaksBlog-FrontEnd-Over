import _objectWithoutProperties from"/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js";import _extends from"/node_modules/@babel/runtime/helpers/esm/extends.js";import React from"c:\\node_modules\\react\\index.js";import{getDynamicStyles}from"c:\\node_modules\\jss\\dist\\jss.esm.js";import mergeClasses from"c:\\node_modules\\@material-ui\\styles\\esm\\mergeClasses\\index.js";import multiKeyStore from"/node_modules/@material-ui/styles/esm/makeStyles/multiKeyStore.js";import useTheme from"c:\\node_modules\\@material-ui\\styles\\esm\\useTheme\\index.js";import{StylesContext}from"c:\\node_modules\\@material-ui\\styles\\esm\\StylesProvider\\index.js";import{increment}from"/node_modules/@material-ui/styles/esm/makeStyles/indexCounter.js";import getStylesCreator from"c:\\node_modules\\@material-ui\\styles\\esm\\getStylesCreator\\index.js";import noopTheme from"/node_modules/@material-ui/styles/esm/getStylesCreator/noopTheme.js";function getClasses(_ref,classes,Component){var state=_ref.state,stylesOptions=_ref.stylesOptions;if(stylesOptions.disableGeneration)return classes||{};state.cacheClasses||(state.cacheClasses={value:null,lastProp:null,lastJSS:{}});var generate=!1;return state.classes!==state.cacheClasses.lastJSS&&(state.cacheClasses.lastJSS=state.classes,generate=!0),classes!==state.cacheClasses.lastProp&&(state.cacheClasses.lastProp=classes,generate=!0),generate&&(state.cacheClasses.value=mergeClasses({baseClasses:state.cacheClasses.lastJSS,newClasses:classes,Component:Component})),state.cacheClasses.value}function attach(_ref2,props){var state=_ref2.state,theme=_ref2.theme,stylesOptions=_ref2.stylesOptions,stylesCreator=_ref2.stylesCreator,name=_ref2.name;if(!stylesOptions.disableGeneration){var sheetManager=multiKeyStore.get(stylesOptions.sheetsManager,stylesCreator,theme);sheetManager||(sheetManager={refs:0,staticSheet:null,dynamicStyles:null},multiKeyStore.set(stylesOptions.sheetsManager,stylesCreator,theme,sheetManager));var options=_extends({},stylesCreator.options,stylesOptions,{theme:theme,flip:"boolean"==typeof stylesOptions.flip?stylesOptions.flip:"rtl"===theme.direction});options.generateId=options.serverGenerateClassName||options.generateClassName;var sheetsRegistry=stylesOptions.sheetsRegistry;if(0===sheetManager.refs){var staticSheet;stylesOptions.sheetsCache&&(staticSheet=multiKeyStore.get(stylesOptions.sheetsCache,stylesCreator,theme));var styles=stylesCreator.create(theme,name);staticSheet||(staticSheet=stylesOptions.jss.createStyleSheet(styles,_extends({link:!1},options)),staticSheet.attach(),stylesOptions.sheetsCache&&multiKeyStore.set(stylesOptions.sheetsCache,stylesCreator,theme,staticSheet)),sheetsRegistry&&sheetsRegistry.add(staticSheet),sheetManager.staticSheet=staticSheet,sheetManager.dynamicStyles=getDynamicStyles(styles)}if(sheetManager.dynamicStyles){var dynamicSheet=stylesOptions.jss.createStyleSheet(sheetManager.dynamicStyles,_extends({link:!0},options));dynamicSheet.update(props),dynamicSheet.attach(),state.dynamicSheet=dynamicSheet,state.classes=mergeClasses({baseClasses:sheetManager.staticSheet.classes,newClasses:dynamicSheet.classes}),sheetsRegistry&&sheetsRegistry.add(dynamicSheet)}else state.classes=sheetManager.staticSheet.classes;sheetManager.refs+=1}}function update(_ref3,props){var state=_ref3.state;state.dynamicSheet&&state.dynamicSheet.update(props)}function detach(_ref4){var state=_ref4.state,theme=_ref4.theme,stylesOptions=_ref4.stylesOptions,stylesCreator=_ref4.stylesCreator;if(!stylesOptions.disableGeneration){var sheetManager=multiKeyStore.get(stylesOptions.sheetsManager,stylesCreator,theme);sheetManager.refs-=1;var sheetsRegistry=stylesOptions.sheetsRegistry;0===sheetManager.refs&&(multiKeyStore.delete(stylesOptions.sheetsManager,stylesCreator,theme),stylesOptions.jss.removeStyleSheet(sheetManager.staticSheet),sheetsRegistry&&sheetsRegistry.remove(sheetManager.staticSheet)),state.dynamicSheet&&(stylesOptions.jss.removeStyleSheet(state.dynamicSheet),sheetsRegistry&&sheetsRegistry.remove(state.dynamicSheet))}}function useSynchronousEffect(func,values){var output,key=React.useRef([]),currentKey=React.useMemo(function(){return{}},values);key.current!==currentKey&&(key.current=currentKey,output=func()),React.useEffect(function(){return function(){output&&output()}},[currentKey])}export default function makeStyles(stylesOrCreator){var options=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},name=options.name,classNamePrefixOption=options.classNamePrefix,Component=options.Component,_options$defaultTheme=options.defaultTheme,defaultTheme=void 0===_options$defaultTheme?noopTheme:_options$defaultTheme,stylesOptions2=_objectWithoutProperties(options,["name","classNamePrefix","Component","defaultTheme"]),stylesCreator=getStylesCreator(stylesOrCreator),classNamePrefix=name||classNamePrefixOption||"makeStyles";return stylesCreator.options={index:increment(),name:name,meta:classNamePrefix,classNamePrefix:classNamePrefix},function useStyles(){var props=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},theme=useTheme()||defaultTheme,stylesOptions=_extends({},React.useContext(StylesContext),stylesOptions2),instance=React.useRef(),shouldUpdate=React.useRef();useSynchronousEffect(function(){var current={name:name,state:{},stylesCreator:stylesCreator,stylesOptions:stylesOptions,theme:theme};return attach(current,props),shouldUpdate.current=!1,instance.current=current,function(){detach(current)}},[theme,stylesCreator]),React.useEffect(function(){shouldUpdate.current&&update(instance.current,props),shouldUpdate.current=!0});var classes=getClasses(instance.current,props.classes,Component);return classes}}