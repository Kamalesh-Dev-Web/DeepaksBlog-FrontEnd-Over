import"/node_modules/core-js/modules/es.object.keys.js";import"/node_modules/core-js/modules/es.object.to-string.js";import"/node_modules/core-js/modules/es.promise.js";import"/node_modules/regenerator-runtime/runtime.js";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}var gen=fn.apply(self,args);_next(void 0)})}}import*as _ref from"/api/index.js";var api=1===Object.keys(_ref).length&&_ref.default?_ref.default:_ref;export var getPosts=function getPosts(){return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var _yield$api$fetchPosts,data;return regeneratorRuntime.wrap(function _callee$(_context){for(;1;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,api.fetchPosts();case 3:_yield$api$fetchPosts=_context.sent,data=_yield$api$fetchPosts.data,dispatch({type:"FETCH_ALL",payload:data}),_context.next=11;break;case 8:_context.prev=8,_context.t0=_context["catch"](0),console.log(_context.t0.message);case 11:case"end":return _context.stop();}},_callee,null,[[0,8]])}));return function(_x){return _ref2.apply(this,arguments)}}()};export var getPost=function getPost(id){return function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(dispatch){var _yield$api$fetchPost,data;return regeneratorRuntime.wrap(function _callee2$(_context3){for(;1;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,api.fetchPost(id);case 3:_yield$api$fetchPost=_context3.sent,data=_yield$api$fetchPost.data,dispatch({type:"FETCH_POST",payload:{post:data}}),_context3.next=11;break;case 8:_context3.prev=8,_context3.t0=_context3["catch"](0),console.log(_context3.t0);case 11:case"end":return _context3.stop();}},_callee2,null,[[0,8]])}));return function(_x3){return _ref3.apply(this,arguments)}}()};export var postToken=function postToken(){return function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(dispatch){var _yield$api$giveToken,data;return regeneratorRuntime.wrap(function _callee3$(_context5){for(;1;)switch(_context5.prev=_context5.next){case 0:return _context5.prev=0,_context5.next=3,api.giveToken();case 3:_yield$api$giveToken=_context5.sent,data=_yield$api$giveToken.data,dispatch({type:"TOKEN",payload:data}),console.log(data,"hello"),_context5.next=12;break;case 9:_context5.prev=9,_context5.t0=_context5["catch"](0),console.log(_context5.t0);case 12:case"end":return _context5.stop();}},_callee3,null,[[0,9]])}));return function(_x5){return _ref4.apply(this,arguments)}}()};export var addPost=function addPost(post,history){return function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(dispatch){var _yield$api$createPost,data;return regeneratorRuntime.wrap(function _callee4$(_context7){for(;1;)switch(_context7.prev=_context7.next){case 0:return _context7.prev=0,_context7.next=3,api.createPost(post);case 3:_yield$api$createPost=_context7.sent,data=_yield$api$createPost.data,console.log(data),dispatch({type:"CREATE_POST",payload:data}),history.push("/blogs"),_context7.next=13;break;case 10:_context7.prev=10,_context7.t0=_context7["catch"](0),console.log(_context7.t0.message);case 13:case"end":return _context7.stop();}},_callee4,null,[[0,10]])}));return function(_x7){return _ref5.apply(this,arguments)}}()};export var updatingPost=function updatingPost(id,post,history){return function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(dispatch){var _yield$api$updatePost,data;return regeneratorRuntime.wrap(function _callee5$(_context9){for(;1;)switch(_context9.prev=_context9.next){case 0:return _context9.prev=0,_context9.next=3,api.updatePost(id,post);case 3:_yield$api$updatePost=_context9.sent,data=_yield$api$updatePost.data,console.log(data),dispatch({type:"UPDATE_POST",payload:data}),history.push("/blogs"),_context9.next=13;break;case 10:_context9.prev=10,_context9.t0=_context9["catch"](0),console.log(_context9.t0.message);case 13:case"end":return _context9.stop();}},_callee5,null,[[0,10]])}));return function(_x9){return _ref6.apply(this,arguments)}}()};export var deletePost=function deletePost(id){return function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(dispatch){return regeneratorRuntime.wrap(function _callee6$(_context11){for(;1;)switch(_context11.prev=_context11.next){case 0:return _context11.prev=0,_context11.next=3,api.deletePost(id);case 3:dispatch({type:"DELETE_POST",payload:id}),_context11.next=9;break;case 6:_context11.prev=6,_context11.t0=_context11["catch"](0),console.log(_context11.t0.message);case 9:case"end":return _context11.stop();}},_callee6,null,[[0,6]])}));return function(_x11){return _ref7.apply(this,arguments)}}()};export var commentPost=function commentPost(id,value){return function(){var _ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(dispatch){var _yield$api$commentPos,data;return regeneratorRuntime.wrap(function _callee7$(_context13){for(;1;)switch(_context13.prev=_context13.next){case 0:return _context13.prev=0,_context13.next=3,api.commentPost(id,value);case 3:return _yield$api$commentPos=_context13.sent,data=_yield$api$commentPos.data,dispatch({type:"COMMENT",payload:data}),console.log(data),_context13.abrupt("return",data.comments);case 10:_context13.prev=10,_context13.t0=_context13["catch"](0),console.log(_context13.t0.message);case 13:case"end":return _context13.stop();}},_callee7,null,[[0,10]])}));return function(_x13){return _ref8.apply(this,arguments)}}()};export var deleteComment=function deleteComment(postId,commentId){return function(){var _ref9=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(dispatch){return regeneratorRuntime.wrap(function _callee8$(_context15){for(;1;)switch(_context15.prev=_context15.next){case 0:return _context15.prev=0,_context15.next=3,api.deleteComment(postId,commentId);case 3:_context15.next=7;break;case 5:_context15.prev=5,_context15.t0=_context15["catch"](0);case 7:case"end":return _context15.stop();}},_callee8,null,[[0,5]])}));return function(_x15){return _ref9.apply(this,arguments)}}()};export var updateComment=function updateComment(postId,commentId,value){return function(){var _ref10=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(dispatch){return regeneratorRuntime.wrap(function _callee9$(_context17){for(;1;)switch(_context17.prev=_context17.next){case 0:return _context17.prev=0,_context17.next=3,api.updateComment(postId,commentId,value);case 3:_context17.next=8;break;case 5:_context17.prev=5,_context17.t0=_context17["catch"](0),console.log(_context17.t0.message);case 8:case"end":return _context17.stop();}},_callee9,null,[[0,5]])}));return function(_x17){return _ref10.apply(this,arguments)}}()};export var likePost=function likePost(postId){return function(){var _ref11=_asyncToGenerator(regeneratorRuntime.mark(function _callee10(dispatch){var _yield$api$likePost,data;return regeneratorRuntime.wrap(function _callee10$(_context19){for(;1;)switch(_context19.prev=_context19.next){case 0:return _context19.prev=0,_context19.next=3,api.likePost(postId);case 3:_yield$api$likePost=_context19.sent,data=_yield$api$likePost.data,dispatch({type:"LIKE",payload:data}),console.log(data),_context19.next=12;break;case 9:_context19.prev=9,_context19.t0=_context19["catch"](0),console.log(_context19.t0.message);case 12:case"end":return _context19.stop();}},_callee10,null,[[0,9]])}));return function(_x19){return _ref11.apply(this,arguments)}}()};