import"/node_modules/core-js/modules/es.object.to-string.js";import"/node_modules/core-js/modules/es.promise.js";import"/node_modules/regenerator-runtime/runtime.js";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}var gen=fn.apply(self,args);_next(void 0)})}}import React,{useState}from"c:\\node_modules\\react\\index.js";import Card from"c:\\node_modules\\@material-ui\\core\\esm\\Card\\index.js";import CardActionArea from"c:\\node_modules\\@material-ui\\core\\esm\\CardActionArea\\index.js";import CardActions from"c:\\node_modules\\@material-ui\\core\\esm\\CardActions\\index.js";import CardContent from"c:\\node_modules\\@material-ui\\core\\esm\\CardContent\\index.js";import CardMedia from"c:\\node_modules\\@material-ui\\core\\esm\\CardMedia\\index.js";import Button from"c:\\node_modules\\@material-ui\\core\\esm\\Button\\index.js";import ButtonBase from"c:\\node_modules\\@material-ui\\core\\esm\\ButtonBase\\index.js";import Typography from"c:\\node_modules\\@material-ui\\core\\esm\\Typography\\index.js";import useStyles from"/components/Card/styles.js";import{theme}from"/components/Card/styles.js";import{ThemeProvider}from"c:\\node_modules\\@material-ui\\styles\\esm\\index.js";import{useHistory}from"c:\\node_modules\\react-router-dom\\esm\\react-router-dom.js";import ThumbUpAltIcon from"/node_modules/@material-ui/icons/ThumbUpAlt.js";import DeleteIcon from"/node_modules/@material-ui/icons/Delete.js";import MoreHorizIcon from"/node_modules/@material-ui/icons/MoreHoriz.js";import{useSelector,useDispatch}from"c:\\node_modules\\react-redux\\es\\index.js";import{deletePost}from"/actions/post.js";import{likePost}from"/actions/post.js";var HomeCard=function HomeCard(_ref){var _posts$likes,post=_ref.post,classes=useStyles(),history=useHistory(),dispatch=useDispatch(),_useSelector=useSelector(function(state){return state.user}),currentId=_useSelector.currentId,_useState=useState(null),currentPostId=_useState[0],setCurrentPostId=_useState[1],_useState2=useState(post),posts=_useState2[0],setPosts=_useState2[1],_useState3=useState(JSON.parse(localStorage.getItem("profile"))),user=_useState3[0],setUser=_useState3[1];console.log(null==user?void 0:user.result.email),console.log(posts),console.log(currentId),console.log(currentPostId),localStorage.setItem("currentPostId",currentPostId);var likeSinglePost=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){for(;1;)switch(_context.prev=_context.next){case 0:return _context.next=2,dispatch(likePost(posts._id));case 2:setPosts(posts),window.location.reload(),setCurrentPostId(posts._id);case 5:case"end":return _context.stop();}},_callee)}));return function likeSinglePost(){return _ref2.apply(this,arguments)}}();return React.createElement(Card,{className:classes.root},React.createElement(ThemeProvider,{theme:theme},React.createElement(ButtonBase,{component:"span",name:"test",className:classes.cardAction,onClick:function openPost(e){history.push("/blogs/"+post._id),window.location.reload()}},React.createElement(CardActionArea,null,React.createElement(CardMedia,{component:"img",alt:"Contemplative Reptile",height:"140",image:posts.image,title:"Contemplative Reptile",className:classes.cardImage}),React.createElement(CardContent,null,React.createElement("div",{className:classes.overlay2,name:"edit"},React.createElement(Button,{onClick:function onClick(e){e.stopPropagation();try{console.log(posts._id),dispatch({type:"SET_ID",payload:posts._id}),history.push("/addPost")}catch(error){console.log(error)}},style:{color:"white"},size:"small"},React.createElement(MoreHorizIcon,{fontSize:"default"}))),React.createElement(Typography,{gutterBottom:!0,variant:"h5",component:"h2",className:classes.cardTitle},posts.title),React.createElement(Typography,{variant:"body2",color:"textSecondary",component:"p",className:classes.cardDescription},posts.body)))),React.createElement(CardActions,{className:classes.cardFooter},React.createElement(Button,{size:"small",color:"primary"},"Read More"),React.createElement(Button,{size:"small",color:"secondary",onClick:function onClick(){return dispatch(deletePost(posts._id))}},React.createElement(DeleteIcon,{fontSize:"small"})," \xA0 Delete"),React.createElement(Button,{onClick:likeSinglePost},React.createElement(ThumbUpAltIcon,{fontSize:"small"})," \xA0 ",null==(_posts$likes=posts.likes)?void 0:_posts$likes.length," "))))};export default HomeCard;